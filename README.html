<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>cheby_toolsパッケージ</title>
</head>
<body>

<h1 class="title">cheby_toolsパッケージ</h1>

<p>1次元および2次元のチェビシェフ多項式展開をあつかうパッケージ．</p>

<h2>パッケージ構成</h2>

<ul>
  <li>cheby_tools/
    <ul>
      <li>__init__.py</li>
      <li>cheby1d.py</li>
      <li>cheby2d.py</li>
    </ul></li>
</ul>

<p><code>__init__.py</code>はcheby_tools全体をパッケージとして認識させるために設置したからファイルだ．</p>

<h2>開発環境</h2>

<p>このコードを動かしている環境は<code>conda_env.txt</code>に保存している．次のコマンドで環境を復元することができる．</p>

<pre><code>cond create -n &lt;env_name&gt; --file conda_env.txt</code></pre>

<p>これで復元できない場合，ファイルを参照して手動インストールするほかない．環境を構築するために能動的にインストールしたパッケージは次のとおりだ．</p>

<ul>
  <li>numpy</li>
  <li>scipy</li>
  <li>sympy</li>
  <li>matplotlib</li>
  <li>ipython</li>
</ul>

<p>このうちipythonは対話環境を便利にするために入れた．最小環境には必要ない．numpy, scipyはバックエンドにmklを使っているが，openblas版でも問題はない．</p>

<h2>TODO</h2>

<ul>
  <li>多項式乗算をFFTで実装できるか検討する．</li>
  <li>係数の計算の実装をsympyに依存しない形に変える．</li>
</ul>

<h2>最適化にかんするメモ</h2>

<p>2次元，N = 9 + 1 = 10で，f2が非線形関数-9.8 sin(x1) - 1.0 x2のシミュレーションは重い．どうしても項の数が増えて，sympy.Symbolの計算が多数登場してしまう．抽象的な計算はとても計算コストが高い．</p>

<p>1次元の場合は，ある程度の項数で安定してくれるので問題は表面化しなかった．1次元の場合，ループ回数Lとループ全体の計算時間の関係は次のようになる．</p>

<pre><code>L = 1 -&gt; 5.52 ms
L = 2 -&gt; 8.67 ms
L = 10 -&gt; 692 ms
L = 20 -&gt; 1.34 s
L = 50 -&gt; 3.41 s</code></pre>

<p>1次元の場合は次のようになる．</p>

<pre><code>L = 1 -&gt; 1.86 s
L = 2 -&gt; 27.2 s</code></pre>

<p>2次元はあまりにも時間がかかりすぎている．解決方法は，sympyを使わないという方法以外にないだろう．</p>

</body>
</html>
